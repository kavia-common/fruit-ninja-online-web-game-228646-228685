{"is_source_file": true, "format": "JavaScript", "description": "This file contains end-to-end smoke test scripts for verifying the health, score submission, leaderboard, and websocket connection functionalities of the frontend application for a web game. It performs HTTP requests and websocket interactions from a frontend perspective.", "external_files": ["fetch"], "external_methods": ["fetch"], "published": [], "classes": [], "methods": [{"name": "requireEnv(name, val)", "description": "Checks that a required environment variable is set; throws an error if not.", "scope": "", "scopeKind": ""}, {"name": "httpJson(url, opts = {})", "description": "Performs an HTTP fetch request expecting a JSON response, and returns response details.", "scope": "", "scopeKind": ""}, {"name": "healthCheck()", "description": "Performs a health check HTTP GET request to the backend API.", "scope": "", "scopeKind": ""}, {"name": "scoreFlow()", "description": "Submits a score via POST, then fetches the leaderboard to verify the score appears.", "scope": "", "scopeKind": ""}, {"name": "wsFlow()", "description": "Connects to the WebSocket server, joins a queue, and waits for a match.", "scope": "", "scopeKind": ""}, {"name": "main()", "description": "Main function that orchestrates the smoke tests.", "scope": "", "scopeKind": ""}, {"name": "onMessage(raw)", "scope": "wsFlow", "scopeKind": "function", "description": "unavailable"}], "calls": ["requireEnv", "httpJson", "healthCheck", "scoreFlow", "wsFlow", "console.log", "console.error", "require", "JSON.parse", "JSON.stringify", "Array.isArray", "setTimeout", "clearTimeout"], "search-terms": ["e2e-smoke", "health check", "score submission", "leaderboard", "WebSocket connection", "frontend verification", "SMOKE", "internal testing", "WebSocket", "ws"], "state": 2, "file_id": 35, "knowledge_revision": 102, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^const API_BASE = (process.env.REACT_APP_API_BASE || \"\").replace(\\/\\\\\\/+$\\/, \"\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "HEALTH_PATH", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^const HEALTH_PATH = process.env.REACT_APP_HEALTHCHECK_PATH || \"\\/health\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "WS_URL", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^const WS_URL = process.env.REACT_APP_WS_URL || \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^  const joinMsg = { event: \"queue:join\", data: { mode: \"casual\" } };$/", "language": "JavaScript", "kind": "class", "scope": "wsFlow.joinMsg", "scopeKind": "class"}, {"_type": "tag", "name": "event", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^  const joinMsg = { event: \"queue:join\", data: { mode: \"casual\" } };$/", "language": "JavaScript", "kind": "property", "scope": "wsFlow.joinMsg", "scopeKind": "class"}, {"_type": "tag", "name": "healthCheck", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^async function healthCheck() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "httpJson", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^async function httpJson(url, opts = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, opts = {})"}, {"_type": "tag", "name": "joinMsg", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^  const joinMsg = { event: \"queue:join\", data: { mode: \"casual\" } };$/", "language": "JavaScript", "kind": "class", "scope": "wsFlow", "scopeKind": "class"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^async function main() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mode", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^  const joinMsg = { event: \"queue:join\", data: { mode: \"casual\" } };$/", "language": "JavaScript", "kind": "property", "scope": "wsFlow.joinMsg.data", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^  const postPayload = { name: playerName, score: scoreValue };$/", "language": "JavaScript", "kind": "property", "scope": "scoreFlow.postPayload", "scopeKind": "class"}, {"_type": "tag", "name": "onMessage", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^      function onMessage(raw) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw)", "scope": "wsFlow", "scopeKind": "function"}, {"_type": "tag", "name": "postPayload", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^  const postPayload = { name: playerName, score: scoreValue };$/", "language": "JavaScript", "kind": "class", "scope": "scoreFlow", "scopeKind": "class"}, {"_type": "tag", "name": "requireEnv", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^function requireEnv(name, val) {$/", "language": "JavaScript", "kind": "function", "signature": "(name, val)"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^  const postPayload = { name: playerName, score: scoreValue };$/", "language": "JavaScript", "kind": "property", "scope": "scoreFlow.postPayload", "scopeKind": "class"}, {"_type": "tag", "name": "scoreFlow", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^async function scoreFlow() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "wsFlow", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/utils/e2e-smoke.js", "pattern": "/^async function wsFlow() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "173cc60afa1652cd8e846f39cae78593", "format-version": 4, "code-base-name": "GameFrontend", "filename": "GameFrontend/utils/e2e-smoke.js", "fields": [{"name": "const joinMsg = { event: \"queue:join\", data: { mode: \"casual\" } };", "scope": "wsFlow.joinMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "const postPayload = { name: playerName, score: scoreValue };", "scope": "scoreFlow.postPayload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"102": ""}]}