{"is_source_file": true, "format": "JavaScript", "description": "This file defines a core, framework-agnostic game engine for a Fruit Ninja-like web game. It manages game state, entity creation, physics simulation, spawning logic, and interaction detection, providing functions to initialize, start, and step through the game state. It includes types for entities, game configuration, and game phases, along with utility functions for randomness and entity management.", "external_files": [], "external_methods": [], "published": ["createInitialGameModel", "startGame", "stepGame", "getDeterministicRand", "sliceAtPoints"], "classes": [], "methods": [{"name": "createInitialGameModel(options = {})", "description": "Creates a new game model in the initial, idle state with default or specified configuration.", "scope": "", "scopeKind": ""}, {"name": "startGame(model, nowMs = performance.now())", "description": "Transitions the game model into the running state, resetting scores and lives.", "scope": "", "scopeKind": ""}, {"name": "stepGame(model, dtMs, nowMs, options = {})", "description": "Advances the game simulation by a specified time delta, updating entity positions, handling spawning, and game over conditions.", "scope": "", "scopeKind": ""}, {"name": "getDeterministicRand(seed = 123456)", "description": "Provides a deterministic pseudo-random number generator for reproducible simulations or debugging.", "scope": "", "scopeKind": ""}, {"name": "sliceAtPoints(model, points, nowMs = performance.now())", "description": "Detects hits on entities based on provided points, updating the game state accordingly (score, game over).", "scope": "", "scopeKind": ""}, {"name": "clamp(n, a, b)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "mulberry32(seed)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "newId()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "pickFruitColor(rand)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "rand()", "scope": "mulberry32", "scopeKind": "function", "description": "unavailable"}, {"name": "randomBetween(rand, a, b)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "spawnEntity(model, nowMs, rand)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["spawnEntity", "mulberry32", "clamp", "randomBetween", "newId", "pickFruitColor"], "search-terms": ["entity update", "simulation step", "game state management", "entity spawning", "core game engine", "fruit ninja web game", "engine.js"], "state": 2, "file_id": 14, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "clamp", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function clamp(n, a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(n, a, b)"}, {"_type": "tag", "name": "createInitialGameModel", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function createInitialGameModel(options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(options = {})"}, {"_type": "tag", "name": "entity", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^  const entity = {$/", "language": "JavaScript", "kind": "class", "scope": "spawnEntity", "scopeKind": "class"}, {"_type": "tag", "name": "getDeterministicRand", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function getDeterministicRand(seed = 123456) {$/", "language": "JavaScript", "kind": "function", "signature": "(seed = 123456)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^    id: newId(),$/", "language": "JavaScript", "kind": "property", "scope": "spawnEntity.entity", "scopeKind": "class"}, {"_type": "tag", "name": "mulberry32", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function mulberry32(seed) {$/", "language": "JavaScript", "kind": "function", "signature": "(seed)"}, {"_type": "tag", "name": "newId", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function newId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pickFruitColor", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function pickFruitColor(rand) {$/", "language": "JavaScript", "kind": "function", "signature": "(rand)"}, {"_type": "tag", "name": "rand", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^  return function rand() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "mulberry32", "scopeKind": "function"}, {"_type": "tag", "name": "randomBetween", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function randomBetween(rand, a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(rand, a, b)"}, {"_type": "tag", "name": "sliceAtPoints", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function sliceAtPoints(model, points, nowMs = performance.now()) {$/", "language": "JavaScript", "kind": "function", "signature": "(model, points, nowMs = performance.now())"}, {"_type": "tag", "name": "spawnEntity", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function spawnEntity(model, nowMs, rand) {$/", "language": "JavaScript", "kind": "function", "signature": "(model, nowMs, rand)"}, {"_type": "tag", "name": "startGame", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function startGame(model, nowMs = performance.now()) {$/", "language": "JavaScript", "kind": "function", "signature": "(model, nowMs = performance.now())"}, {"_type": "tag", "name": "stepGame", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function stepGame(model, dtMs, nowMs, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(model, dtMs, nowMs, options = {})"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^    type: isBomb ? \"bomb\" : \"fruit\",$/", "language": "JavaScript", "kind": "property", "scope": "spawnEntity.entity", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^    x,$/", "language": "JavaScript", "kind": "field", "scope": "spawnEntity.entity", "scopeKind": "class"}], "hash": "b5b4be41b2e12a75556eb9f5bc9a4123", "format-version": 4, "code-base-name": "GameFrontend", "filename": "GameFrontend/src/game/engine.js", "fields": [{"name": "id: newId(),", "scope": "spawnEntity.entity", "scopeKind": "class", "description": "unavailable"}, {"name": "type: isBomb ? \"bomb\" : \"fruit\",", "scope": "spawnEntity.entity", "scopeKind": "class", "description": "unavailable"}, {"name": "x,", "scope": "spawnEntity.entity", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"32": ""}]}