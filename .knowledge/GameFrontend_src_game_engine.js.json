{"is_source_file": true, "format": "JavaScript", "description": "This file defines a core, framework-agnostic game engine for a fruit ninja-like game, including entity management, physics stepping, spawning logic, and game state transitions.", "external_files": ["./slicing"], "external_methods": ["sliceEntities"], "published": ["createInitialGameModel", "startGame", "stepGame", "getDeterministicRand", "sliceAtPoints"], "classes": [], "methods": [{"name": "mulberry32(seed)", "description": "Deterministic pseudo-random number generator for reproducibility.", "scope": "", "scopeKind": ""}, {"name": "clamp(n, a, b)", "description": "Restricts a number within a specified range.", "scope": "", "scopeKind": ""}, {"name": "randomBetween(rand, a, b)", "description": "Generates a random floating-point number between two bounds.", "scope": "", "scopeKind": ""}, {"name": "newId()", "description": "Generates a runtime-unique ID for entities.", "scope": "", "scopeKind": ""}, {"name": "pickFruitColor(rand)", "description": "Selects a fruit color from a predefined palette based on a random generator.", "scope": "", "scopeKind": ""}, {"name": "createInitialGameModel(options = {})", "description": "Creates and initializes the game model with default or provided options.", "scope": "", "scopeKind": ""}, {"name": "startGame(model, nowMs = performance.now())", "description": "Transitions the game model into the 'running' phase, resetting counters.", "scope": "", "scopeKind": ""}, {"name": "stepGame(model, dtMs, nowMs, options = {})", "description": "Advances the game simulation by a specified time step, updating entity positions, handling spawning, and game over conditions.", "scope": "", "scopeKind": ""}, {"name": "spawnEntity(model, nowMs, rand)", "description": "Creates and adds a new fruit or bomb entity to the game at a random position.", "scope": "", "scopeKind": ""}, {"name": "getDeterministicRand(seed = 123456)", "description": "Provides a deterministic pseudo-random generator for debugging.", "scope": "", "scopeKind": ""}, {"name": "sliceAtPoints(model, points, nowMs = performance.now())", "description": "Applies slicing logic based on swipe points, delegating to external sliceEntities() method.", "scope": "", "scopeKind": ""}, {"name": "rand()", "scope": "mulberry32", "scopeKind": "function", "description": "unavailable"}], "calls": ["sliceEntities", "Object.freeze", "performance.now", "Math.random", "Math.imul", "Math.floor", "Date.now"], "search-terms": ["game engine", "entity spawn", "physics update", "slice logic", "game state transitions", "deterministic RNG"], "state": 2, "file_id": 14, "knowledge_revision": 46, "git_revision": "7a66c1da0efbfcf0536cc5edc12b3024e933a9d8", "revision_history": [{"32": ""}, {"46": "7a66c1da0efbfcf0536cc5edc12b3024e933a9d8"}], "ctags": [{"_type": "tag", "name": "clamp", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function clamp(n, a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(n, a, b)"}, {"_type": "tag", "name": "createInitialGameModel", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function createInitialGameModel(options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(options = {})"}, {"_type": "tag", "name": "entity", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^  const entity = {$/", "language": "JavaScript", "kind": "class", "scope": "spawnEntity", "scopeKind": "class"}, {"_type": "tag", "name": "getDeterministicRand", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function getDeterministicRand(seed = 123456) {$/", "language": "JavaScript", "kind": "function", "signature": "(seed = 123456)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^    id: newId(),$/", "language": "JavaScript", "kind": "property", "scope": "spawnEntity.entity", "scopeKind": "class"}, {"_type": "tag", "name": "mulberry32", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function mulberry32(seed) {$/", "language": "JavaScript", "kind": "function", "signature": "(seed)"}, {"_type": "tag", "name": "newId", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function newId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "pickFruitColor", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function pickFruitColor(rand) {$/", "language": "JavaScript", "kind": "function", "signature": "(rand)"}, {"_type": "tag", "name": "rand", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^  return function rand() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "mulberry32", "scopeKind": "function"}, {"_type": "tag", "name": "randomBetween", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function randomBetween(rand, a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(rand, a, b)"}, {"_type": "tag", "name": "sliceAtPoints", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function sliceAtPoints(model, points, nowMs = performance.now()) {$/", "language": "JavaScript", "kind": "function", "signature": "(model, points, nowMs = performance.now())"}, {"_type": "tag", "name": "spawnEntity", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^function spawnEntity(model, nowMs, rand) {$/", "language": "JavaScript", "kind": "function", "signature": "(model, nowMs, rand)"}, {"_type": "tag", "name": "startGame", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function startGame(model, nowMs = performance.now()) {$/", "language": "JavaScript", "kind": "function", "signature": "(model, nowMs = performance.now())"}, {"_type": "tag", "name": "stepGame", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^export function stepGame(model, dtMs, nowMs, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(model, dtMs, nowMs, options = {})"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^    type: isBomb ? \"bomb\" : \"fruit\",$/", "language": "JavaScript", "kind": "property", "scope": "spawnEntity.entity", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/fruit-ninja-online-web-game-228646-228685/GameFrontend/src/game/engine.js", "pattern": "/^    x,$/", "language": "JavaScript", "kind": "field", "scope": "spawnEntity.entity", "scopeKind": "class"}], "hash": "090dd459c2893b967def85fcb82e3041", "format-version": 4, "code-base-name": "GameFrontend", "filename": "GameFrontend/src/game/engine.js", "fields": [{"name": "id: newId(),", "scope": "spawnEntity.entity", "scopeKind": "class", "description": "unavailable"}, {"name": "type: isBomb ? \"bomb\" : \"fruit\",", "scope": "spawnEntity.entity", "scopeKind": "class", "description": "unavailable"}, {"name": "x,", "scope": "spawnEntity.entity", "scopeKind": "class", "description": "unavailable"}]}